{"version":3,"file":"static/js/41.bc807392.chunk.js","mappings":"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","sources":["utils/geoUtils.js","components/LocationAutocomplete.js","components/Toast.js","Profile.js"],"sourcesContent":["// utils/geoUtils.js\r\n// Получение города по координатам через Nominatim (OpenStreetMap)\r\nexport async function getCityByCoords(lat, lon) {\r\n  try {\r\n    const url = `https://nominatim.openstreetmap.org/reverse?lat=${lat}&lon=${lon}&format=json&accept-language=ru`;\r\n    const res = await fetch(url, { headers: { 'User-Agent': 'my-portfolio/1.0' } });\r\n    if (!res.ok) return '';\r\n    const data = await res.json();\r\n    // Варианты: city, town, village, state, country\r\n    return (\r\n      data.address.city ||\r\n      data.address.town ||\r\n      data.address.village ||\r\n      data.address.state ||\r\n      data.address.country ||\r\n      ''\r\n    );\r\n  } catch (e) {\r\n    return '';\r\n  }\r\n}\r\n","import React, { useState } from 'react';\r\n\r\n// Пример списка городов РФ (можно расширить или подключить внешний API)\r\nconst cities = [\r\n  'Москва',\r\n  'Санкт-Петербург',\r\n  'Новосибирск',\r\n  'Екатеринбург',\r\n  'Казань',\r\n  'Нижний Новгород',\r\n  'Челябинск',\r\n  'Самара',\r\n  'Ростов-на-Дону',\r\n  'Уфа',\r\n  'Красноярск',\r\n  'Воронеж',\r\n  'Пермь',\r\n  'Волгоград',\r\n  'Краснодар',\r\n  'Сочи',\r\n  'Омск',\r\n  'Тюмень',\r\n  'Иркутск',\r\n  'Хабаровск',\r\n  'Владивосток',\r\n  'Ярославль',\r\n  'Томск',\r\n  'Барнаул',\r\n  'Калининград',\r\n  'Саратов',\r\n  'Тула',\r\n  'Калуга',\r\n  'Курск',\r\n  'Белгород',\r\n  'Другой...'\r\n];\r\n\r\nconst LocationAutocomplete = ({ value, onChange, placeholder = 'Город, страна' }) => {\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleInput = (e) => {\r\n    const val = e.target.value;\r\n    onChange(val);\r\n    if (val.length > 0) {\r\n      const filtered = cities.filter(city => city.toLowerCase().includes(val.toLowerCase()));\r\n      setSuggestions(filtered.length ? filtered : ['Другой...']);\r\n      setShow(true);\r\n    } else {\r\n      setSuggestions([]);\r\n      setShow(false);\r\n    }\r\n  };\r\n\r\n  const handleSelect = (city) => {\r\n    onChange(city === 'Другой...' ? '' : city);\r\n    setShow(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <input\r\n        type=\"text\"\r\n        value={value}\r\n        onChange={handleInput}\r\n        placeholder={placeholder}\r\n        className=\"w-full px-4 py-3 rounded-lg bg-[#181c23] border border-[#374151] text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition\"\r\n        autoComplete=\"off\"\r\n        onFocus={() => value && setShow(true)}\r\n        onBlur={() => setTimeout(() => setShow(false), 100)}\r\n      />\r\n      {show && suggestions.length > 0 && (\r\n        <ul className=\"absolute z-10 left-0 right-0 bg-[#23272f] border border-[#374151] rounded-lg mt-1 max-h-48 overflow-y-auto shadow-lg\">\r\n          {suggestions.map((city, idx) => (\r\n            <li\r\n              key={city + idx}\r\n              className=\"px-4 py-2 cursor-pointer hover:bg-blue-600 hover:text-white text-gray-200\"\r\n              onMouseDown={() => handleSelect(city)}\r\n            >\r\n              {city}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LocationAutocomplete;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nconst FADE_DURATION = 400; // миллисекунд\r\n\r\nconst Toast = ({ message, type = 'success', onClose, duration = 1000 }) => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Плавное появление\r\n    const showTimer = setTimeout(() => {\r\n      setVisible(true);\r\n    }, 10); // небольшой таймаут для срабатывания transition\r\n\r\n    // Скрываем уведомление чуть раньше, чтобы успела проиграться анимация\r\n    const hideTimer = setTimeout(() => {\r\n      setVisible(false);\r\n    }, duration - FADE_DURATION);\r\n\r\n    // onClose вызываем после fade-out\r\n    const closeTimer = setTimeout(() => {\r\n      onClose();\r\n    }, duration);\r\n\r\n    return () => {\r\n      clearTimeout(showTimer);\r\n      clearTimeout(hideTimer);\r\n      clearTimeout(closeTimer);\r\n    };\r\n  }, [duration, onClose]);\r\n\r\n  const bgColor = type === 'success' ? 'bg-green-500' : 'bg-red-500';\r\n\r\n  return (\r\n    <div\r\n      className={`fixed inset-x-0 top-4 mx-auto z-50 flex justify-center pointer-events-none transition-opacity duration-[${FADE_DURATION}ms] ${visible ? 'opacity-100' : 'opacity-0'}`}\r\n      style={{ transition: `opacity ${FADE_DURATION}ms cubic-bezier(0.4,0,0.2,1)` }}\r\n    >\r\n      <div\r\n        className={`${bgColor} text-white px-6 py-3 rounded-lg shadow-lg max-w-sm text-center pointer-events-auto transition-transform duration-[${FADE_DURATION}ms] ${visible ? 'scale-100' : 'scale-95'}`}\r\n        style={{ transition: `transform ${FADE_DURATION}ms cubic-bezier(0.4,0,0.2,1)` }}\r\n      >\r\n        {message}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Toast;","import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from './contexts/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Auth from './components/Auth';\r\nimport { subscribeToUserData } from './services/databaseService';\r\nimport Toast from './components/Toast';\r\nimport { IMaskInput } from 'react-imask';\r\nimport LocationAutocomplete from './components/LocationAutocomplete';\r\nimport { getCityByCoords } from './utils/geoUtils';\r\nimport { useLanguage } from './contexts/LanguageContext';\r\n\r\nconst Profile = () => {\r\n  const { user, logout, updateUserProfile } = useAuth();\r\n  const navigate = useNavigate();\r\n  const { t } = useLanguage();\r\n  const [userInfo, setUserInfo] = useState({\r\n    fullName: '',\r\n    phone: '',\r\n    displayName: '',\r\n    bio: '',\r\n    location: '',\r\n    skills: '',\r\n    github: '',\r\n    website: '',\r\n    email: ''\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [toast, setToast] = useState({ show: false, message: '', type: 'success' });\r\n  const [profileError, setProfileError] = useState('');\r\n  const [validationErrors] = useState({});\r\n\r\n  useEffect(() => {\r\n    let unsubscribe;\r\n\r\n    if (user) {\r\n      unsubscribe = subscribeToUserData(user.uid, (data) => {\r\n        let location = data.location || '';\r\n        // Если поле location пустое, пробуем взять из localStorage (геолокация)\r\n        if (!location && typeof window !== 'undefined') {\r\n          const loc = localStorage.getItem('userLocation');\r\n          if (loc && loc !== 'denied' && loc !== 'unsupported') {\r\n            try {\r\n              const { lat, lon } = JSON.parse(loc);\r\n              getCityByCoords(lat, lon).then(city => {\r\n                if (city) setUserInfo(prev => ({ ...prev, location: city }));\r\n              });\r\n            } catch {}\r\n          }\r\n        }\r\n        setUserInfo({\r\n          fullName: data.fullName || '',\r\n          phone: data.phone || '',\r\n          displayName: data.displayName || '',\r\n          bio: data.bio || '',\r\n          location: location,\r\n          skills: data.skills || '',\r\n          github: data.github || '',\r\n          website: data.website || '',\r\n          email: user.email || ''\r\n        });\r\n      });\r\n    }\r\n\r\n    return () => {\r\n      if (unsubscribe) {\r\n        unsubscribe();\r\n      }\r\n    };\r\n  }, [user]);\r\n\r\n  const showToast = (message, type = 'success') => {\r\n    setToast({ show: true, message: typeof message === 'string' ? t(message) : message, type });\r\n    setTimeout(() => {\r\n      setToast({ show: false, message: '', type: 'success' });\r\n    }, 1000);\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      await logout();\r\n      navigate('/');\r\n    } catch (err) {\r\n      showToast('logoutError', 'error');\r\n      console.error('Ошибка при выходе:', err);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveProfile = async () => {\r\n    setIsLoading(true);\r\n    setProfileError('');\r\n    try {\r\n      await updateUserProfile(userInfo);\r\n      showToast('profileUpdated');\r\n    } catch (err) {\r\n      console.error('Ошибка при обновлении профиля:', err);\r\n      setProfileError(err.message || String(err));\r\n      showToast('profileUpdateError', 'error');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!user) {\r\n    return <Auth />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#121212] py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-xl mx-auto bg-[#23272f] rounded-2xl shadow-2xl overflow-hidden border border-[#2d3748]\">\r\n        {toast.show && (\r\n          <div className=\"pointer-events-none\">\r\n            <Toast \r\n              message={toast.message} \r\n              type={toast.type} \r\n              onClose={() => setToast({ show: false, message: '', type: 'success' })}\r\n            />\r\n          </div>\r\n        )}\r\n        <div className=\"px-8 py-8 sm:p-10\">\r\n          <div className=\"flex justify-end mb-6\">\r\n            <button\r\n              onClick={handleLogout}\r\n              disabled={isLoading}\r\n              className=\"px-5 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-semibold shadow-md transition disabled:opacity-60\"\r\n            >\r\n              {isLoading ? t('loggingOut') : t('logout')}\r\n            </button>\r\n          </div>\r\n          <h3 className=\"text-2xl font-bold text-white mb-8 text-center tracking-wide\">\r\n            {t('personalData')}\r\n          </h3>\r\n          {profileError && (\r\n            <div className=\"bg-red-500/20 border border-red-500 text-red-100 px-4 py-2 rounded mb-4\">\r\n              {profileError}\r\n            </div>\r\n          )}\r\n          <form className=\"space-y-6\" onSubmit={e => { e.preventDefault(); handleSaveProfile(); }}>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-300 mb-1\">{t('fullName')}</label>\r\n              <input\r\n                type=\"text\"\r\n                value={userInfo.fullName}\r\n                onChange={e => setUserInfo({ ...userInfo, fullName: e.target.value })}\r\n                placeholder={t('fullNamePlaceholder')}\r\n                className={`w-full px-4 py-3 rounded-lg bg-[#181c23] border ${validationErrors.fullName ? 'border-red-500' : 'border-[#374151]'} text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition`}\r\n                required\r\n              />\r\n              {validationErrors.fullName && <div className=\"text-red-400 text-xs mt-1\">{t(validationErrors.fullName)}</div>}\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-300 mb-1\">{t('phone')}</label>\r\n              <IMaskInput\r\n                mask=\"+7 (000) 000-00-00\"\r\n                value={userInfo.phone}\r\n                onAccept={value => setUserInfo({ ...userInfo, phone: value })}\r\n                unmask={false}\r\n                placeholder={t('phonePlaceholder')}\r\n                className={`w-full px-4 py-3 rounded-lg bg-[#181c23] border ${validationErrors.phone ? 'border-red-500' : 'border-[#374151]'} text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition`}\r\n                required\r\n              />\r\n              {validationErrors.phone && <div className=\"text-red-400 text-xs mt-1\">{t(validationErrors.phone)}</div>}\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-300 mb-1\">Email</label>\r\n              <input\r\n                type=\"email\"\r\n                value={userInfo.email}\r\n                readOnly\r\n                className={`w-full px-4 py-3 rounded-lg bg-[#181c23] border ${validationErrors.email ? 'border-red-500' : 'border-[#374151]'} text-gray-400 cursor-not-allowed`}\r\n              />\r\n              {validationErrors.email && <div className=\"text-red-400 text-xs mt-1\">{t(validationErrors.email)}</div>}\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-300 mb-1\">{t('about')}</label>\r\n              <textarea\r\n                value={userInfo.bio}\r\n                onChange={e => setUserInfo({ ...userInfo, bio: e.target.value })}\r\n                rows=\"3\"\r\n                placeholder={t('aboutPlaceholder')}\r\n                className=\"w-full px-4 py-3 rounded-lg bg-[#181c23] border border-[#374151] text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-300 mb-1\">{t('location')}</label>\r\n              <LocationAutocomplete\r\n                value={userInfo.location}\r\n                onChange={val => setUserInfo({ ...userInfo, location: val })}\r\n                placeholder={t('locationPlaceholder')}\r\n              />\r\n              {validationErrors.location && <div className=\"text-red-400 text-xs mt-1\">{t(validationErrors.location)}</div>}\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-300 mb-1\">{t('skills')}</label>\r\n              <input\r\n                type=\"text\"\r\n                value={userInfo.skills}\r\n                onChange={e => setUserInfo({ ...userInfo, skills: e.target.value })}\r\n                placeholder={t('skillsPlaceholder')}\r\n                className=\"w-full px-4 py-3 rounded-lg bg-[#181c23] border border-[#374151] text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition\"\r\n              />\r\n            </div>\r\n            <div className=\"flex gap-4\">\r\n              <div className=\"flex-1\">\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-1\">GitHub</label>\r\n                <input\r\n                  type=\"url\"\r\n                  value={userInfo.github}\r\n                  onChange={e => setUserInfo({ ...userInfo, github: e.target.value })}\r\n                  placeholder=\"https://github.com/username\"\r\n                  className=\"w-full px-4 py-3 rounded-lg bg-[#181c23] border border-[#374151] text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition\"\r\n                />\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-1\">{t('website')}</label>\r\n                <input\r\n                  type=\"url\"\r\n                  value={userInfo.website}\r\n                  onChange={e => setUserInfo({ ...userInfo, website: e.target.value })}\r\n                  placeholder=\"https://example.com\"\r\n                  className=\"w-full px-4 py-3 rounded-lg bg-[#181c23] border border-[#374151] text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"pt-6\">\r\n              <button\r\n                type=\"submit\"\r\n                disabled={isLoading}\r\n                className=\"w-full py-3 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-semibold text-lg shadow-md transition disabled:opacity-60\"\r\n              >\r\n                {isLoading ? t('saving') : t('saveChanges')}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;"],"names":["async","getCityByCoords","lat","lon","url","res","fetch","headers","ok","data","json","address","city","town","village","state","country","e","cities","_ref","value","onChange","placeholder","suggestions","setSuggestions","useState","show","setShow","_jsxs","className","children","_jsx","type","val","target","length","filtered","filter","toLowerCase","includes","autoComplete","onFocus","onBlur","setTimeout","map","idx","onMouseDown","handleSelect","FADE_DURATION","message","onClose","duration","visible","setVisible","useEffect","showTimer","hideTimer","closeTimer","clearTimeout","bgColor","style","transition","Profile","user","logout","updateUserProfile","useAuth","navigate","useNavigate","t","useLanguage","userInfo","setUserInfo","fullName","phone","displayName","bio","location","skills","github","website","email","isLoading","setIsLoading","toast","setToast","profileError","setProfileError","validationErrors","unsubscribe","subscribeToUserData","uid","window","loc","localStorage","getItem","JSON","parse","then","prev","showToast","arguments","undefined","Toast","onClick","err","console","error","disabled","onSubmit","preventDefault","String","handleSaveProfile","required","IMaskInput","mask","onAccept","unmask","readOnly","rows","LocationAutocomplete","Auth"],"sourceRoot":""}