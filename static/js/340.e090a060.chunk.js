"use strict";(self.webpackChunkmy_portfolio=self.webpackChunkmy_portfolio||[]).push([[340],{8340:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var s=a(5043),r=a(5016),l=a(6662),i=a(7195),n=a.n(i),o=(a(5935),a(1729)),c=a(774),d=a(579);const u=()=>{const[e,t]=(0,s.useState)(""),[a,l]=(0,s.useState)(""),[i,u]=(0,s.useState)(""),[h,p]=(0,s.useState)(""),[x,m]=(0,s.useState)(""),[g,b]=(0,s.useState)("email"),[y,w]=(0,s.useState)(!1),[f,v]=(0,s.useState)(!1),[j,N]=(0,s.useState)(""),{login:C,signup:k,loginAnonymously:S,setupRecaptcha:R,confirmPhoneCode:U,loginWithGithub:z}=(0,r.A)(),V=e=>{switch(e){case"auth/user-not-found":return"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d";case"auth/wrong-password":return"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c";case"auth/email-already-in-use":return"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442";case"auth/weak-password":return"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432";case"auth/invalid-email":return"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email \u0430\u0434\u0440\u0435\u0441";case"auth/invalid-phone-number":return"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430";case"auth/invalid-verification-code":return"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043a\u043e\u0434 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f";case"auth/account-exists-with-different-credential":return"\u0410\u043a\u043a\u0430\u0443\u043d\u0442 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0441 \u0434\u0440\u0443\u0433\u0438\u043c \u043c\u0435\u0442\u043e\u0434\u043e\u043c \u0432\u0445\u043e\u0434\u0430";case"auth/popup-closed-by-user":return"\u041e\u043a\u043d\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u0431\u044b\u043b\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u043e. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437";case"auth/cancelled-popup-request":return"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u043d\u0435 \u0431\u044b\u043b \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d";case"auth/popup-blocked":return"\u0412\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u0435 \u043e\u043a\u043d\u043e \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043e\u043c. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0438\u0435 \u043e\u043a\u043d\u0430 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0441\u0430\u0439\u0442\u0430";case"auth/unauthorized-domain":return"\u042d\u0442\u043e\u0442 \u0434\u043e\u043c\u0435\u043d \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 Firebase. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Firebase";default:return"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"}};(0,s.useEffect)((()=>()=>{window.recaptchaVerifier&&window.recaptchaVerifier.clear()}),[]);const E=()=>{t(""),l(""),u(""),p(""),m(""),v(!1),N("")};return(0,d.jsx)("div",{className:"min-h-[calc(100vh-4rem)] bg-[#121212] flex flex-col items-center justify-center px-6",children:(0,d.jsxs)("div",{className:"w-full max-w-md bg-[#1f1f1f] p-8 rounded-lg shadow-lg",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-white mb-6 text-center",children:y?"\u0412\u0445\u043e\u0434 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"}),(0,d.jsxs)("div",{className:"flex justify-center gap-4 mb-6",children:[(0,d.jsx)("button",{onClick:()=>{b("email"),E()},className:`px-4 py-2 rounded ${"email"===g?"bg-blue-500":"bg-gray-700"} text-white`,children:"Email"}),(0,d.jsxs)("button",{onClick:()=>{b("github"),E()},className:`px-4 py-2 rounded ${"github"===g?"bg-blue-500":"bg-gray-700"} text-white flex items-center gap-2`,children:[(0,d.jsx)("svg",{viewBox:"0 0 24 24",className:"w-5 h-5 fill-current",children:(0,d.jsx)("path",{d:"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"})}),"GitHub"]}),y&&(0,d.jsx)("button",{onClick:()=>{b("anonymous"),E()},className:`px-4 py-2 rounded ${"anonymous"===g?"bg-blue-500":"bg-gray-700"} text-white`,children:"\u0410\u043d\u043e\u043d\u0438\u043c\u043d\u043e"})]}),j&&(0,d.jsx)("div",{className:"bg-red-500/20 border border-red-500 text-red-100 p-4 rounded mb-6",children:j}),"email"===g&&(0,d.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),N("");try{if(y)await C(e,a);else{if(a!==i)return void N("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442");await k(e,a)}}catch(s){N(V(s.code))}},className:"flex flex-col gap-4",children:[(0,d.jsx)("input",{type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value),className:"p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 outline-none transition-colors",required:!0}),(0,d.jsx)("input",{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:a,onChange:e=>l(e.target.value),className:"p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 outline-none transition-colors",required:!0}),!y&&(0,d.jsx)("input",{type:"password",placeholder:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",value:i,onChange:e=>u(e.target.value),className:"p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 outline-none transition-colors",required:!0}),(0,d.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-6 py-3 rounded hover:bg-blue-600 transition-colors font-semibold",children:y?"\u0412\u043e\u0439\u0442\u0438":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]}),"phone"===g&&(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),N("");try{if(f){if(!x||x.length<6)return void N("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043a\u043e\u0434 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f");console.log("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u0430:",x),await U(x)}else{window.recaptchaVerifier||(window.recaptchaVerifier=new o.kT(c.j2,"recaptcha-container",{size:"invisible",callback:()=>{},"expired-callback":()=>{N("\u0412\u0440\u0435\u043c\u044f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0438\u0441\u0442\u0435\u043a\u043b\u043e. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.")}}));const e=(e=>{const t=e.replace(/\D/g,"");return t.startsWith("+")?t:`+${t}`})(h);console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u043a\u043e\u0434\u0430 \u043d\u0430 \u043d\u043e\u043c\u0435\u0440:",e);const t=window.recaptchaVerifier;await R(e,t),v(!0)}}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u043e\u0439 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438:",t),"auth/invalid-verification-code"===t.code?N("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043a\u043e\u0434 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f"):"auth/invalid-phone-number"===t.code?N("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"):"auth/code-expired"===t.code?(N("\u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043a\u043e\u0434\u0430 \u0438\u0441\u0442\u0435\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043a\u043e\u0434"),v(!1)):"auth/too-many-requests"===t.code?N("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u043f\u043e\u043f\u044b\u0442\u043e\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435"):t.message?N(t.message):N("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),"auth/invalid-verification-code"!==t.code&&(window.recaptchaVerifier&&(window.recaptchaVerifier.clear(),window.recaptchaVerifier=null),v(!1))}},className:"flex flex-col gap-4",children:[(0,d.jsx)("div",{className:"phone-input-container",children:(0,d.jsx)(n(),{country:"ru",value:h,onChange:e=>{console.log("\u0412\u0432\u0435\u0434\u0435\u043d \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430:",e),p(e)},disabled:f,containerClass:"phone-input",inputClass:"!w-full !h-12 !text-white !bg-gray-700 !border-gray-600 !pl-12 !rounded",buttonClass:"!bg-gray-700 !border-gray-600 !rounded-l",dropdownClass:"!bg-gray-700 !text-white",searchClass:"!bg-gray-800 !text-white",enableSearch:!0,searchPlaceholder:"\u041f\u043e\u0438\u0441\u043a \u0441\u0442\u0440\u0430\u043d\u044b...",inputProps:{required:!0,placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}})}),f&&(0,d.jsx)("input",{type:"text",placeholder:"\u041a\u043e\u0434 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f",value:x,onChange:e=>{console.log("\u0412\u0432\u0435\u0434\u0435\u043d \u043a\u043e\u0434:",e.target.value),m(e.target.value)},className:"p-3 rounded bg-gray-700 text-white border border-gray-600 focus:border-blue-500 outline-none transition-colors",required:!0}),(0,d.jsx)("div",{id:"recaptcha-container"}),(0,d.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-6 py-3 rounded hover:bg-blue-600 transition-colors font-semibold",children:f?"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043a\u043e\u0434":y?"\u0412\u043e\u0439\u0442\u0438":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]}),"github"===g&&(0,d.jsxs)("button",{onClick:async()=>{N("");try{console.log("\u041d\u0430\u0447\u0438\u043d\u0430\u0435\u043c GitHub \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044e..."),await z()}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 GitHub \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438:",e),e.code?N(V(e.code)):e.message?N(e.message):N("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u0447\u0435\u0440\u0435\u0437 GitHub")}},className:"w-full bg-gray-800 text-white px-6 py-3 rounded hover:bg-gray-700 transition-colors font-semibold flex items-center justify-center gap-2",children:[(0,d.jsx)("svg",{viewBox:"0 0 24 24",className:"w-6 h-6 fill-current",children:(0,d.jsx)("path",{d:"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"})}),y?"\u0412\u043e\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 GitHub":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0447\u0435\u0440\u0435\u0437 GitHub"]}),"anonymous"===g&&(0,d.jsx)("button",{onClick:async()=>{N("");try{await S()}catch(e){N(V(e.code))}},className:"w-full bg-blue-500 text-white px-6 py-3 rounded hover:bg-blue-600 transition-colors font-semibold",children:"\u0412\u043e\u0439\u0442\u0438 \u0430\u043d\u043e\u043d\u0438\u043c\u043d\u043e"}),(0,d.jsx)("button",{onClick:()=>{w(!y),E()},className:"text-blue-400 mt-6 hover:underline w-full text-center",children:y?"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442":"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442? \u0412\u043e\u0439\u0442\u0438"})]})})};var h=a(8147);const p=(0,h.c7)(),x=async e=>{if(!c.j2.currentUser)throw new Error("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d");try{const t=await(async e=>new Promise((t=>{const a=new FileReader;a.readAsDataURL(e),a.onload=a=>{const s=new Image;s.src=a.target.result,s.onload=()=>{const a=document.createElement("canvas"),r=800;let l=s.width,i=s.height;l>i?l>r&&(i*=r/l,l=r):i>r&&(l*=r/i,i=r),a.width=l,a.height=i,a.getContext("2d").drawImage(s,0,0,l,i),a.toBlob((a=>{t(new File([a],e.name,{type:"image/jpeg",lastModified:Date.now()}))}),"image/jpeg",.8)}}})))(e),a=(0,h.KR)(p,`avatars/${c.j2.currentUser.uid}/${e.name}`),s=await(0,h.D)(a,t);return await(0,h.qk)(s.ref)}catch(t){throw console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u0430\u0439\u043b\u0430:",t),new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0430\u0432\u0430\u0442\u0430\u0440\u0430")}};var m=a(4765);const g=e=>{let{message:t,type:a="success",onClose:r,duration:l=3e3}=e;(0,s.useEffect)((()=>{const e=setTimeout((()=>{r()}),l);return()=>clearTimeout(e)}),[l,r]);const i="success"===a?"bg-green-500":"bg-red-500";return(0,d.jsx)("div",{className:"fixed inset-x-0 top-4 mx-auto z-50 flex justify-center animate-fade-in-down",children:(0,d.jsx)("div",{className:`${i} text-white px-6 py-3 rounded-lg shadow-lg max-w-sm text-center`,children:t})})},b=()=>{var e;const{user:t,logout:a,updateUserProfile:i,updateUserPassword:n}=(0,r.A)(),o=(0,l.Zp)(),[c,h]=(0,s.useState)(!1),[p,b]=(0,s.useState)({displayName:(null===t||void 0===t?void 0:t.displayName)||"",about:"",skills:[]}),[y,w]=(0,s.useState)(null),[f,v]=(0,s.useState)(""),[j,N]=(0,s.useState)({show:!1,message:"",type:"success"}),[C,k]=(0,s.useState)(!1),[S,R]=(0,s.useState)(!1),U=(0,s.useRef)();(0,s.useEffect)((()=>{let e;return t&&(e=(0,m.Xd)(t.uid,(e=>{w(e),b((a=>({...a,displayName:(null===e||void 0===e?void 0:e.displayName)||t.displayName||"",about:(null===e||void 0===e?void 0:e.about)||"",skills:(null===e||void 0===e?void 0:e.skills)||[]})))}))),()=>{e&&e()}}),[t]);const z=function(e){N({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})};return t?(0,d.jsxs)("div",{className:"min-h-screen bg-[#121212] pt-20",children:[j.show&&(0,d.jsx)(g,{message:j.message,type:j.type,onClose:()=>{N({show:!1,message:"",type:"success"})}}),(0,d.jsx)("div",{className:"container mx-auto px-4",children:(0,d.jsxs)("div",{className:"bg-[#1f1f1f] rounded-lg p-6 max-w-2xl mx-auto",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-white",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),(0,d.jsxs)("div",{className:"flex gap-4",children:[(0,d.jsx)("button",{onClick:()=>{o("/")},className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:"\u041d\u0430\u0437\u0430\u0434"}),(0,d.jsx)("button",{onClick:async()=>{k(!0);try{await a(),o("/")}catch(e){z("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u0445\u043e\u0434\u0435 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437","error"),console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u0445\u043e\u0434\u0435:",e)}finally{k(!1)}},disabled:C,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:C?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0412\u044b\u0445\u043e\u0434..."]}):"\u0412\u044b\u0439\u0442\u0438"})]})]}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-start gap-6",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("img",{src:(null===t||void 0===t?void 0:t.photoURL)||"https://via.placeholder.com/100",alt:"\u0410\u0432\u0430\u0442\u0430\u0440",className:"w-24 h-24 rounded-full object-cover cursor-pointer "+(S?"opacity-50":""),onClick:()=>{U.current.click()}}),S&&(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,d.jsxs)("svg",{className:"animate-spin h-8 w-8 text-white",viewBox:"0 0 24 24",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,d.jsx)("input",{type:"file",ref:U,onChange:async e=>{const t=e.target.files[0];if(t)try{if(R(!0),t.size>5242880)return void z("\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 5MB","error");const e=await x(t),a=await i({...p,photoURL:e});a&&(b((e=>({...e,photoURL:a.photoURL}))),z("\u0410\u0432\u0430\u0442\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d"))}catch(a){z("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0430\u0432\u0430\u0442\u0430\u0440\u0430","error"),console.error(a)}finally{R(!1)}},accept:"image/*",className:"hidden"})]}),(0,d.jsx)("div",{className:"flex-1",children:c?(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("input",{type:"text",value:p.displayName,onChange:e=>b({...p,displayName:e.target.value}),className:"w-full bg-[#2d2d2d] text-white p-2 rounded",placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,d.jsx)("textarea",{value:p.about,onChange:e=>b({...p,about:e.target.value}),className:"w-full bg-[#2d2d2d] text-white p-2 rounded h-24",placeholder:"\u041e \u0441\u0435\u0431\u0435"}),(0,d.jsx)("div",{children:(0,d.jsx)("input",{type:"text",value:p.skills.join(", "),onChange:e=>b({...p,skills:e.target.value.split(",").map((e=>e.trim()))}),className:"w-full bg-[#2d2d2d] text-white p-2 rounded",placeholder:"\u041d\u0430\u0432\u044b\u043a\u0438 (\u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e)"})}),(0,d.jsxs)("div",{className:"flex gap-4",children:[(0,d.jsx)("button",{onClick:async()=>{try{await i({displayName:p.displayName,photoURL:t.photoURL,about:p.about,skills:p.skills}),z("\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d"),h(!1)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u044f:",e),z("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u044f","error")}},className:"bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,d.jsx)("button",{onClick:()=>h(!1),className:"bg-gray-600 text-white px-6 py-2 rounded hover:bg-gray-700",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]}):(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("div",{className:"bg-[#2d2d2d] rounded-lg p-4",children:(0,d.jsx)("table",{className:"w-full text-white",children:(0,d.jsxs)("tbody",{children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"py-2 text-gray-400 w-1/3",children:"\u0418\u043c\u044f:"}),(0,d.jsx)("td",{className:"py-2",children:(null===y||void 0===y?void 0:y.displayName)||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"py-2 text-gray-400",children:"Email:"}),(0,d.jsx)("td",{className:"py-2",children:(null===y||void 0===y?void 0:y.email)||(null===t||void 0===t?void 0:t.email)})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"py-2 text-gray-400",children:"\u041e \u0441\u0435\u0431\u0435:"}),(0,d.jsx)("td",{className:"py-2",children:(null===y||void 0===y?void 0:y.about)||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"py-2 text-gray-400",children:"\u041d\u0430\u0432\u044b\u043a\u0438:"}),(0,d.jsx)("td",{className:"py-2",children:null!==y&&void 0!==y&&null!==(e=y.skills)&&void 0!==e&&e.length?(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:y.skills.map(((e,t)=>(0,d.jsx)("span",{className:"bg-blue-600 px-2 py-1 rounded-full text-sm",children:e},t)))}):"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u044b"})]})]})})}),(0,d.jsx)("button",{onClick:()=>h(!0),className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 mt-4",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})})]}),(0,d.jsxs)("div",{className:"w-full border-t border-gray-700 pt-4",children:[(0,d.jsx)("h3",{className:"text-white text-lg mb-4",children:"\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c"}),(0,d.jsxs)("div",{className:"flex gap-4",children:[(0,d.jsx)("input",{type:"password",value:f,onChange:e=>v(e.target.value),className:"flex-1 bg-[#2d2d2d] text-white p-2 rounded",placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),(0,d.jsx)("button",{onClick:async()=>{try{if(f.length<6)return void z("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432","error");await n(f),z("\u041f\u0430\u0440\u043e\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d"),v("")}catch(e){z("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043c\u0435\u043d\u0435 \u043f\u0430\u0440\u043e\u043b\u044f","error")}},className:"bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700",children:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})]})]})})]}):(0,d.jsx)(u,{})}}}]);
//# sourceMappingURL=340.e090a060.chunk.js.map